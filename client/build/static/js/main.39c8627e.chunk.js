(this.webpackJsonpnightin=this.webpackJsonpnightin||[]).push([[0],{36:function(e,t,a){},42:function(e,t,a){e.exports=a(75)},65:function(e,t,a){},66:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(38),c=a.n(r),o=a(6),i=a(7),u=a(5);var s=function(e){var t=e.children;return l.a.createElement("div",{style:{height:350,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron"},t)},m=a(14),d=a.n(m),E=function(e){return d()({method:"POST",data:e,withCredentials:!0,url:"/api/user/register"})},f=function(e){return d.a.post("/api/user/login",e)},g=function(e){return console.log(e),d.a.post("/api/user/logout",e)},v=function(e){return d.a.put("/api/user/addRecipe",e)},b=function(e){return d.a.get("/api/recipe",{params:{q:e}})},p=function(e){return d.a.get("/api/recipe/"+e)},h=function(){return d.a.get("/api/wine")},N=function(e){return d.a.get("/api/wine/"+e)},j=function(e){return d.a.put("/api/user/addWine",e)},O=function(e){return d.a.get("/api/user/"+e)};function w(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function y(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function C(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map((function(e){return"col-"+e})).join(" ")},a)}a(65);function k(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},t))}function S(e){var t=e.children;return l.a.createElement("li",{className:"list-group-item"},t)}a(66);var x=function(e){return l.a.createElement("div",{className:"input-group"},l.a.createElement("input",Object.assign({className:"form-control ",type:"text"},e)))};var I=function(e){var t=e.type,a=void 0===t?"default":t,n=e.className,r=e.children,c=e.onClick;return l.a.createElement("button",{onClick:c,className:["btn","btn-".concat(a),n].join(" ")},r)},z=a(76);var _=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(u.a)(c,2),m=i[0],d=i[1];return l.a.createElement("div",null,l.a.createElement(w,{fluid:!0},l.a.createElement(s,null,l.a.createElement(y,{className:"justify-content-center"}," ",l.a.createElement(C,{size:"md-12 sm-12"},l.a.createElement("p",{className:"lead"},"TEMP TEXT: The name of our mongo database is nightindb. In this version the data we are using is coming from a collection called recipes."),"When the user enters a term and clicks the search button, recipes containing that term appear below.",l.a.createElement("p",null))," "),l.a.createElement("br",null),l.a.createElement(y,null,l.a.createElement(C,{size:"md-12 sm-12"},l.a.createElement("form",null,l.a.createElement(w,{fluid:!0},l.a.createElement(x,{style:{backgroundColor:"#DCDCDC"},name:"RecipesSearch",value:m,onChange:function(e){var t=e.target.value;d(t)},placeholder:"Search For a Recipe"}),l.a.createElement("br",null),l.a.createElement(I,{onClick:function(e){e.preventDefault(),b(m).then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))},type:"secondary",className:"input-md btn-md btn-outline-secondary"},"Search")))))),l.a.createElement(y,null,l.a.createElement(C,{size:"md-6 sm-12"},a.length?l.a.createElement(k,null,a.map((function(e){return l.a.createElement(S,{key:e._id},l.a.createElement(o.b,{to:"/recipe/"+e._id},l.a.createElement(z.a,{style:{width:"10rem"},className:"text-center"},l.a.createElement(z.a.Img,{className:"rounded-circle",variant:"top",src:e.image,alt:"photo of ".concat(e.title)}),l.a.createElement(z.a.Title,null,e.name))))}))):l.a.createElement("h3",null,"No Results to Display")))))};var T=function(e){return l.a.createElement("img",Object.assign({src:e.src,alt:e.alt},e))},R=a(41),F=a(40),L=a(17),D=Object(n.createContext)(),W=D.Provider,U=function(e,t){switch(t.type){case"setCurrentUser":return Object(L.a)(Object(L.a)({},e),{},{_id:t._id,email:t.email,favs:t.favs,loading:!1});case"updateFavs":return Object(L.a)(Object(L.a)({},e),{},{favs:[].concat(Object(F.a)(e.favs),[t.favs]),loading:!1});case"loading":return Object(L.a)(Object(L.a)({},e),{},{loading:!0});default:return e}},P=function(e){e.value;var t=Object(R.a)(e,["value"]),a=Object(n.useReducer)(U,{_id:"",email:"",favs:[],loading:!1}),r=Object(u.a)(a,2),c=r[0],o=r[1];return l.a.createElement(W,Object.assign({value:[c,o]},t))},G=function(){return Object(n.useContext)(D)};var A=function(e){var t=G(),a=Object(u.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)({}),m=Object(u.a)(s,2),d=m[0],E=m[1],f=Object(n.useState)([]),g=Object(u.a)(f,2),b=g[0],h=g[1],N=Object(n.useState)([]),j=Object(u.a)(N,2),x=j[0],z=j[1],_=Object(i.f)().id;return Object(n.useEffect)((function(){!function(e){p(e).then((function(e){E(e.data)})).catch((function(e){return console.log(e)}))}(_),function(e){p(e).then((function(e){return h(e.data.ingredients)})).catch((function(e){return console.log(e)}))}(_),function(e){p(e).then((function(e){return z(e.data.directions)})).catch((function(e){return console.log(e)}))}(_)}),[_]),l.a.createElement(w,{fluid:!0},l.a.createElement(y,null,l.a.createElement(C,{size:"md-10 md-offset-1"},l.a.createElement("article",null,l.a.createElement(y,null,l.a.createElement(o.b,{to:"/recipe"},l.a.createElement(I,{onClick:function(){},type:"success",className:"input-lg btn-lg"},"\u2190 Back")),l.a.createElement(o.b,{to:"/wine"},l.a.createElement(I,{type:"success",className:"input-lg btn-lg",onClick:function(){v({userId:r._id,favorite:d._id}).then((function(e){console.log("Updated User Favorites: ",e.data)})).catch((function(e){return console.log(e)})),O(r._id).then((function(e){c({type:"updateFavs",favs:e.data})})).catch((function(e){return console.log(e)}))}},"+ Select Recipe"))),l.a.createElement(y,null,l.a.createElement(C,{size:"md-10"},l.a.createElement(T,{src:d.image,alt:d.name}),l.a.createElement("br",null),l.a.createElement("h1",null,d.name)),l.a.createElement(C,{size:"md-5"},l.a.createElement("h2",null,"INGREDIENTS"),b.length?l.a.createElement(k,null,b.map((function(e){return l.a.createElement(S,{key:e.id},e.ing)}))):l.a.createElement("h3",null,"No Results to Display")),l.a.createElement(C,{size:"md-5"},l.a.createElement("h2",null,"INSTRUCTIONS"),x.length?l.a.createElement(k,null,x.map((function(e){return l.a.createElement(S,{key:e.id},e.dir)}))):l.a.createElement("h3",null,"No Results to Display")))))))};var B=function(){return l.a.createElement("div",null,l.a.createElement(w,{fluid:!0},l.a.createElement(y,null,l.a.createElement(C,{size:"md-12"},l.a.createElement(s,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44")))))))};var J=function(){var e=G(),t=Object(u.a)(e,2),a=t[0],n=t[1];return a.email?l.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},l.a.createElement(o.b,{to:"#",className:"navbar-brand"},"Night In"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/home",className:"navbar-brand"},l.a.createElement("strong",null,"Home"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/favorites",className:"navbar-brand"},"Favorites")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/register",onClick:function(){g(a).then((function(e){n({email:"",faves:[],_id:""})})).then((function(){window.location.reload()}))},className:"navbar-brand"},"Log Out"))))):l.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},l.a.createElement(o.b,{to:"#",className:"navbar-brand"},"Night In"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/register",className:"nav-link"},"Sign Up")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/login",className:"nav-link"},"Log In")))))},M=a(9),Y=a(21);a(36);function q(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1],d=G(),E=Object(u.a)(d,2),g=E[0],v=E[1];return l.a.createElement("div",{className:"Login"},l.a.createElement(M.a,{onSubmit:function(e){e.preventDefault()}},l.a.createElement(M.a.Group,{size:"md",controlId:"email"},l.a.createElement(M.a.Label,null,"Email"),l.a.createElement(M.a.Control,{autoFocus:!0,type:"email",value:a,onChange:function(e){return r(e.target.value)}})),l.a.createElement(M.a.Group,{size:"md",controlId:"password"},l.a.createElement(M.a.Label,null,"Password"),l.a.createElement(M.a.Control,{type:"password",value:s,onChange:function(e){return m(e.target.value)}})),l.a.createElement(o.b,{to:"/home"},l.a.createElement(Y.a,{block:!0,size:"md",type:"submit",disabled:!(a.length>0&&s.length>0),onClick:function(){f({email:a,password:s}).then((function(e){200===e.status&&(console.log(e),e.data.email===a&&(v({type:"setCurrentUser",_id:e.data._id,email:e.data.email,favs:e.data.favs}),console.log(g._id)))}),(function(){console.log("Login Failed")}))}},"Login"))))}function H(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(u.a)(c,2),s=i[0],m=i[1];return l.a.createElement("div",{className:"Login"},l.a.createElement(M.a,{onSubmit:function(e){e.preventDefault()}},l.a.createElement(M.a.Group,{size:"md",controlId:"email"},l.a.createElement(M.a.Label,null,"Email"),l.a.createElement(M.a.Control,{autoFocus:!0,type:"email",value:a,onChange:function(e){return r(e.target.value)}})),l.a.createElement(M.a.Group,{size:"md",controlId:"password"},l.a.createElement(M.a.Label,null,"Password"),l.a.createElement(M.a.Control,{type:"password",value:s,onChange:function(e){return m(e.target.value)}})),l.a.createElement(Y.a,{block:!0,size:"md",type:"submit",onClick:function(){E({email:a,password:s}).then((function(e){"User Already Exists"===e.data?alert("This email is already in use"):window.location="/login"})).catch((function(e){return console.log(e)}))},disabled:!(a.length>0&&s.length>0)},"Sign Up"),l.a.createElement(o.b,{to:"/login"},l.a.createElement("strong",null,"Or Click here to Login"))))}var V=function(){var e=G(),t=Object(u.a)(e,2),a=t[0];return t[1],l.a.createElement(w,{fluid:!0,className:"justify-content-center"},l.a.createElement(y,{className:"justify-content-center"},l.a.createElement(C,{size:"md-12 sm-12"},a.email?l.a.createElement(s,null,l.a.createElement("p",{class:"lead"},"Welcome ",l.a.createElement("span",{class:"text-muted"},a.email),"!"),l.a.createElement("br",null),l.a.createElement("button",{type:"button",class:"btn btn-secondary btn-lg"},l.a.createElement(o.b,{to:"/recipe"},"Start Planning Your Night In"))):l.a.createElement("div",null))))};var X=function(){return l.a.createElement(y,null,l.a.createElement(z.a,{style:{width:"10rem"},className:"text-center"},l.a.createElement(z.a.Img,{className:"rounded-circle",variant:"top",src:"https://via.placeholder.com/150"}),l.a.createElement(z.a.Title,null,"New York Strip Steak with Wild Rice and Broccoli")),l.a.createElement(z.a,{style:{width:"10rem"}},l.a.createElement(z.a.Img,{className:"rounded-circle",variant:"top",src:"https://via.placeholder.com/150"}),l.a.createElement(z.a.Title,null,"Wine Name")))};function $(){var e=G(),t=Object(u.a)(e,2),a=t[0];t[1];return l.a.createElement(w,{fluid:!0},a.email?l.a.createElement(X,null):l.a.createElement("div",null))}var K=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){h().then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement(w,{fluid:!0},l.a.createElement(y,null,l.a.createElement(C,{size:"md-6 sm-12"},l.a.createElement(s,null,l.a.createElement("h5",null,"FindAll Wine Collection")))),l.a.createElement(y,null,l.a.createElement(C,{size:"md-6 sm-12"},a.length?l.a.createElement(k,null,a.map((function(e){return l.a.createElement(S,{key:e._id},l.a.createElement(o.b,{to:"/wine/"+e._id},l.a.createElement(z.a,{style:{width:"10rem"},className:"text-center"},l.a.createElement(z.a.Img,{className:"rounded-circle",variant:"top",src:e.image,alt:"photo of ".concat(e.title)}),l.a.createElement(z.a.Title,null,e.name))))}))):l.a.createElement("h3",null,"No Results to Display")))))};var Q=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),m=Object(u.a)(s,2),d=m[0],E=m[1],f=Object(i.f)().id;Object(n.useEffect)((function(){!function(e){N(e).then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}(f),function(e){N(e).then((function(e){return E(e.data.vintages)})).catch((function(e){return console.log(e)}))}(f)}),[f]);var g=G(),v=Object(u.a)(g,2),b=v[0],p=v[1];return l.a.createElement("div",null,l.a.createElement(w,{fluid:!0},l.a.createElement(y,null,l.a.createElement(C,{size:"md-10 md-offset-1"},l.a.createElement(y,null,l.a.createElement(o.b,{to:"/wine"},l.a.createElement(I,{onClick:function(){},type:"success",className:"input-lg btn-lg"},"\u2190 Back")),l.a.createElement(o.b,{to:"/favorites"},l.a.createElement(I,{onClick:function(){j({userId:b._id,favId:b.favs.pop()._id,wineId:r._id}).then((function(e){console.log("Updated User Favorites: ",e.data)})).catch((function(e){return console.log(e)})),O(b._id).then((function(e){p({type:"updateFavs",favs:e.data})})).catch((function(e){return console.log(e)}))},type:"success",className:"input-lg btn-lg"},"+ Select Wine"))),l.a.createElement(y,null,l.a.createElement(C,{size:"md-10"},l.a.createElement(T,{src:r.image,alt:r.name}),l.a.createElement("br",null),l.a.createElement("h1",null,r.name),l.a.createElement("h4",null,r.blurb))),l.a.createElement(y,null,l.a.createElement(C,{size:"md-10"},l.a.createElement("h2",null,"VINTAGES"),d.length?l.a.createElement(k,null,d.map((function(e){return l.a.createElement(S,{key:e.id},e.vin)}))):l.a.createElement("p",null,"No Results to Display")))))))};var Z=function(){return l.a.createElement(o.a,null,l.a.createElement("div",null,l.a.createElement(P,null,l.a.createElement(J,null),l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/home"},l.a.createElement(V,null)),l.a.createElement(i.a,{exact:!0,path:["/","/register"]},l.a.createElement(H,null)),l.a.createElement(i.a,{exact:!0,path:"/login"},l.a.createElement(q,null)),l.a.createElement(i.a,{exact:!0,path:"/favorites"},l.a.createElement($,null)),l.a.createElement(i.a,{exact:!0,path:"/recipe"},l.a.createElement(_,null)),l.a.createElement(i.a,{exact:!0,path:"/recipe/:id"},l.a.createElement(A,null)),l.a.createElement(i.a,{exact:!0,path:"/wine"},l.a.createElement(K,null)),l.a.createElement(i.a,{exact:!0,path:"/wine/:id"},l.a.createElement(Q,null)),l.a.createElement(i.a,null,l.a.createElement(B,null))))))},ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Z,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ee?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):te(e)}))}}()}},[[42,1,2]]]);
//# sourceMappingURL=main.39c8627e.chunk.js.map