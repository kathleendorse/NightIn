(this.webpackJsonpnightin=this.webpackJsonpnightin||[]).push([[0],{36:function(e,a,t){},42:function(e,a,t){e.exports=t(75)},65:function(e,a,t){},66:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(38),c=t.n(l),i=t(5),o=t(6),m=t(7);var u=function(e){var a=e.children;return r.a.createElement("div",{style:{height:350,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron"},a)},s=t(15),d=t.n(s),p=function(e){return d()({method:"POST",data:e,withCredentials:!0,url:"/api/user/register"})},E=function(e){return d.a.post("/api/user/login",e)},g=function(e){return console.log(e),d.a.post("/api/user/logout",e)},b=function(e){return d.a.get("/api/user/"+e)},f=function(e){return d.a.put("/api/user/addFav",e)},v=function(e){return d.a.get("/api/recipe",{params:{q:e}})},h=function(e){return d.a.get("/api/recipe/"+e)},w=function(){return d.a.get("/api/wine")},N=function(e){return d.a.get("/api/wine/"+e)};function y(e){var a=e.fluid,t=e.children;return r.a.createElement("div",{className:"container".concat(a?"-fluid":"")},t)}function I(e){var a=e.fluid,t=e.children;return r.a.createElement("div",{className:"row".concat(a?"-fluid":"")},t)}function j(e){var a=e.size,t=e.children;return r.a.createElement("div",{className:a.split(" ").map((function(e){return"col-"+e})).join(" ")},t)}t(65);function O(e){var a=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},a))}function S(e){var a=e.children;return r.a.createElement("li",{className:"list-group-item"},a)}t(66);var C=function(e){return r.a.createElement("div",{className:"input-group"},r.a.createElement("input",Object.assign({className:"form-control ",type:"text"},e)))};var k=function(e){var a=e.type,t=void 0===a?"default":a,n=e.className,l=e.children,c=e.onClick;return r.a.createElement("button",{onClick:c,className:["btn","btn-".concat(t),n].join(" ")},l)},T=t(76);var W=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),m=Object(i.a)(c,2),s=m[0],d=m[1];return r.a.createElement("div",null,r.a.createElement(y,{fluid:!0},r.a.createElement(u,null,r.a.createElement(I,{className:"justify-content-center"}," ",r.a.createElement(j,{size:"md-12 sm-12"},r.a.createElement("p",{className:"lead"},"TEMP TEXT: The name of our mongo database is nightindb. In this version the data we are using is coming from a collection called recipes."),"When the user enters a term and clicks the search button, recipes containing that term appear below.",r.a.createElement("p",null))," "),r.a.createElement("br",null),r.a.createElement(I,null,r.a.createElement(j,{size:"md-12 sm-12"},r.a.createElement("form",null,r.a.createElement(y,{fluid:!0},r.a.createElement(C,{style:{backgroundColor:"#DCDCDC"},name:"RecipesSearch",value:s,onChange:function(e){var a=e.target.value;d(a)},placeholder:"Search For a Recipe"}),r.a.createElement("br",null),r.a.createElement(k,{onClick:function(e){e.preventDefault(),v(s).then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))},type:"secondary",className:"input-md btn-md btn-outline-secondary"},"Search")))))),r.a.createElement(I,null,r.a.createElement(j,{size:"md-6 sm-12"},t.length?r.a.createElement(O,null,t.map((function(e){return r.a.createElement(S,{key:e._id},r.a.createElement(o.b,{to:"/recipe/"+e._id},r.a.createElement(T.a,{style:{width:"10rem"},className:"text-center"},r.a.createElement(T.a.Img,{className:"rounded-circle",variant:"top",src:e.image,alt:"photo of ".concat(e.name)}),r.a.createElement(T.a.Title,null,e.name))))}))):r.a.createElement("h3",null,"No Results to Display")))))};var x=function(e){return r.a.createElement("img",Object.assign({src:e.src,alt:e.alt},e))},z=t(41),D=t(40),R=t(16),_=Object(n.createContext)(),L=_.Provider,F=function(e,a){switch(a.type){case"setCurrentUser":return Object(R.a)(Object(R.a)({},e),{},{_id:a._id,email:a.email,favs:a.favs,loading:!1});case"updateFavs":return Object(R.a)(Object(R.a)({},e),{},{favs:[].concat(Object(D.a)(e.favs),[a.favs]),loading:!1});case"updateRecipe":return Object(R.a)(Object(R.a)({},e),{},{selectionId:a.selectionId,recipeId:a.recipeId,recipeName:a.recipeName,recipeType:a.recipeType,recipeImage:a.recipeImage,recipeWine:a.recipeWine,recipeSubWine:a.recipeSubWine,recipeIngredients:a.recipeIngredients,recipeDirections:a.recipeDirections,loading:!1});case"updateWine":return Object(R.a)(Object(R.a)({},e),{},{wineId:a.wineId,wineName:a.wineName,wineType:a.wineType,wineBlurb:a.wineBlurb,wineImage:a.wineImage,wineVintages:a.wineVintages,loading:!1});case"loading":return Object(R.a)(Object(R.a)({},e),{},{loading:!0});default:return e}},B=function(e){e.value;var a=Object(z.a)(e,["value"]),t=Object(n.useReducer)(F,{_id:"",email:"",favs:[],selectionId:"",recipeId:"",recipeName:"",recipeType:"",recipeImage:"",recipeWine:"",recipeSubWine:"",recipeIngredients:[],recipeDirections:[],wineId:"",wineName:"",wineType:"",wineBlurb:"",wineImage:"",wineVintages:[],loading:!1}),l=Object(i.a)(t,2),c=l[0],o=l[1];return r.a.createElement(L,Object.assign({value:[c,o]},a))},U=function(){return Object(n.useContext)(_)};var V=function(e){var a=U(),t=Object(i.a)(a,2),l=(t[0],t[1]),c=Object(n.useState)({}),u=Object(i.a)(c,2),s=u[0],d=u[1],p=Object(n.useState)([]),E=Object(i.a)(p,2),g=E[0],b=E[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),w=v[0],N=v[1],C=Object(m.g)().id;return Object(n.useEffect)((function(){!function(e){h(e).then((function(e){d(e.data)})).catch((function(e){return console.log(e)}))}(C),function(e){h(e).then((function(e){return b(e.data.ingredients)})).catch((function(e){return console.log(e)}))}(C),function(e){h(e).then((function(e){return N(e.data.directions)})).catch((function(e){return console.log(e)}))}(C)}),[C]),r.a.createElement(y,{fluid:!0},r.a.createElement(I,null,r.a.createElement(j,{size:"md-10 md-offset-1"},r.a.createElement("article",null,r.a.createElement(I,null,r.a.createElement(o.b,{to:"/recipe"},r.a.createElement(k,{onClick:function(){},type:"success",className:"input-lg btn-lg"},"\u2190 Back")),r.a.createElement(o.b,{to:"/wine"},r.a.createElement(k,{type:"success",className:"input-lg btn-lg",onClick:function(){l({type:"updateRecipe",selectionId:Math.floor(1e4*Math.random()).toString(),recipeId:s._id,recipeName:s.name,recipeType:s.type,recipeImage:s.image,recipeWine:s.image,recipeSubWine:s.subwine,recipeIngredients:s.ingredients,recipeDirections:s.directions})}},"+ Select Recipe"))),r.a.createElement(I,null,r.a.createElement(j,{size:"md-10"},r.a.createElement(x,{src:s.image,alt:s.name}),r.a.createElement("br",null),r.a.createElement("h1",null,s.name)),r.a.createElement(j,{size:"md-5"},r.a.createElement("h2",null,"INGREDIENTS"),g.length?r.a.createElement(O,null,g.map((function(e){return r.a.createElement(S,{key:e.id},e.ing)}))):r.a.createElement("h3",null,"No Results to Display")),r.a.createElement(j,{size:"md-5"},r.a.createElement("h2",null,"INSTRUCTIONS"),w.length?r.a.createElement(O,null,w.map((function(e){return r.a.createElement(S,{key:e.id},e.dir)}))):r.a.createElement("h3",null,"No Results to Display")))))))};var P=function(){return r.a.createElement("div",null,r.a.createElement(y,{fluid:!0},r.a.createElement(I,null,r.a.createElement(j,{size:"md-12"},r.a.createElement(u,null,r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44")))))))};var G=function(){var e=U(),a=Object(i.a)(e,2),t=a[0],n=a[1];return t.email?r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement(o.b,{to:"#",className:"navbar-brand"},"Night In"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/home",className:"navbar-brand"},r.a.createElement("strong",null,"Home"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/favorites",className:"navbar-brand"},"Favorites")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/register",onClick:function(){g(t).then((function(e){n({email:"",faves:[],_id:""})})).then((function(){window.location.reload()}))},className:"navbar-brand"},"Log Out"))))):r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement(o.b,{to:"#",className:"navbar-brand"},"Night In"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor03","aria-controls":"navbarColor03","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor03"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/register",className:"nav-link"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/login",className:"nav-link"},"Log In")))))},A=t(9),M=t(21);t(36);function J(e){var a=e.useremail,t=Object(n.useState)(""),l=Object(i.a)(t,2),c=l[0],u=l[1],s=Object(n.useState)(""),d=Object(i.a)(s,2),p=d[0],g=d[1];console.log("useremail: ",a);var b=U(),f=Object(i.a)(b,2),v=f[0],h=f[1];return r.a.createElement("div",{className:"Login"},a&&r.a.createElement(m.a,{to:"/recipe"}),r.a.createElement(A.a,{onSubmit:function(e){e.preventDefault()}},r.a.createElement(A.a.Group,{size:"md",controlId:"email"},r.a.createElement(A.a.Label,null,"Email"),r.a.createElement(A.a.Control,{autoFocus:!0,type:"email",value:c,onChange:function(e){return u(e.target.value)}})),r.a.createElement(A.a.Group,{size:"md",controlId:"password"},r.a.createElement(A.a.Label,null,"Password"),r.a.createElement(A.a.Control,{type:"password",value:p,onChange:function(e){return g(e.target.value)}})),r.a.createElement(o.b,{to:"/home"},r.a.createElement(M.a,{block:!0,size:"md",type:"submit",disabled:!(c.length>0&&p.length>0),onClick:function(){E({email:c,password:p}).then((function(e){200===e.status&&(console.log(e),e.data.email===c&&(h({type:"setCurrentUser",_id:e.data._id,email:e.data.email,favs:e.data.favs}),console.log(v._id)))}),(function(){console.log("Login Failed")}))}},"Login"))))}function q(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),m=Object(i.a)(c,2),u=m[0],s=m[1];return r.a.createElement("div",{className:"Login"},r.a.createElement(A.a,{onSubmit:function(e){e.preventDefault()}},r.a.createElement(A.a.Group,{size:"md",controlId:"email"},r.a.createElement(A.a.Label,null,"Email"),r.a.createElement(A.a.Control,{autoFocus:!0,type:"email",value:t,onChange:function(e){return l(e.target.value)}})),r.a.createElement(A.a.Group,{size:"md",controlId:"password"},r.a.createElement(A.a.Label,null,"Password"),r.a.createElement(A.a.Control,{type:"password",value:u,onChange:function(e){return s(e.target.value)}})),r.a.createElement(M.a,{block:!0,size:"md",type:"submit",onClick:function(){p({email:t,password:u}).then((function(e){"User Already Exists"===e.data?alert("This email is already in use"):window.location="/login"})).catch((function(e){return console.log(e)}))},disabled:!(t.length>0&&u.length>0)},"Sign Up"),r.a.createElement(o.b,{to:"/login"},r.a.createElement("strong",null,"Or Click here to Login"))))}var H=function(e){var a=e.email,t=U(),n=Object(i.a)(t,2),l=n[0];return n[1],r.a.createElement(y,{fluid:!0,className:"justify-content-center"},!a&&r.a.createElement(m.a,{to:"/login"}),r.a.createElement(I,{className:"justify-content-center"},r.a.createElement(j,{size:"md-12 sm-12"},r.a.createElement(u,null,r.a.createElement("p",{className:"lead"},"Welcome ",r.a.createElement("span",{className:"text-muted"},l.email),"!"),r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-lg"},r.a.createElement(o.b,{to:"/recipe"},"Start Planning Your Night In"))))))};var X=function(e){var a=e.recipeName,t=e.recipeImage,n=e.wineName,l=e.wineImage;return r.a.createElement(I,null,r.a.createElement(T.a,{style:{width:"10rem"},className:"text-center"},r.a.createElement(T.a.Img,{className:"rounded-circle",variant:"top",src:t,alt:a}),r.a.createElement(T.a.Title,null,a)),r.a.createElement(T.a,{style:{width:"10rem"}},r.a.createElement(T.a.Img,{className:"rounded-circle",variant:"top",src:l,alt:n}),r.a.createElement(T.a.Title,null,n)))};function Y(){var e=U(),a=Object(i.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)((function(){l({type:"updateRecipe",selectionId:"",recipeId:"",recipeName:"",recipeType:"",recipeImage:"",recipeWine:"",recipeSubWine:"",recipeIngredients:"",recipeDirections:"",wineId:"",wineName:"",wineType:"",wineBlurb:"",wineImage:"",wineVintages:""}),l({type:"updateWine",wineId:"",wineName:"",wineType:"",wineBlurb:"",wineImage:"",wineSubWine:"",wineVintages:""})}),[]),r.a.createElement(y,{fluid:!0},t.favs.map((function(e){return r.a.createElement(X,{key:e.id,recipeName:e.recipeName,recipeImage:e.recipeImage,wineName:e.wineName,wineImage:e.wineImage})})))}var $=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)((function(){w().then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(y,{fluid:!0},r.a.createElement(I,null,r.a.createElement(j,{size:"md-6 sm-12"},r.a.createElement(u,null,r.a.createElement("h5",null,"FindAll Wine Collection")))),r.a.createElement(I,null,r.a.createElement(j,{size:"md-6 sm-12"},t.length?r.a.createElement(O,null,t.map((function(e){return r.a.createElement(S,{key:e._id},r.a.createElement(o.b,{to:"/wine/"+e._id},r.a.createElement(T.a,{style:{width:"10rem"},className:"text-center"},r.a.createElement(T.a.Img,{className:"rounded-circle",variant:"top",src:e.image,alt:"photo of ".concat(e.name)}),r.a.createElement(T.a.Title,null,e.name))))}))):r.a.createElement("h3",null,"No Results to Display")))))};var K=function(e){var a=U(),t=Object(i.a)(a,2),l=t[0],c=t[1],u=Object(n.useState)({}),s=Object(i.a)(u,2),d=s[0],p=s[1],E=Object(n.useState)([]),g=Object(i.a)(E,2),v=g[0],h=g[1],w=Object(m.g)().id;return Object(n.useEffect)((function(){!function(e){N(e).then((function(e){return p(e.data)})).catch((function(e){return console.log(e)}))}(w),function(e){N(e).then((function(e){return h(e.data.vintages)})).catch((function(e){return console.log(e)}))}(w)}),[w]),r.a.createElement("div",null,r.a.createElement(y,{fluid:!0},r.a.createElement(I,null,r.a.createElement(j,{size:"md-10 md-offset-1"},r.a.createElement(I,null,r.a.createElement(o.b,{to:"/wine"},r.a.createElement(k,{onClick:function(){},type:"success",className:"input-lg btn-lg"},"\u2190 Back")),r.a.createElement(o.b,{to:"/favorites"},r.a.createElement(k,{onClick:function(){c({type:"updateWine",wineId:d._id,wineName:d.name,wineType:d.type,wineBlurb:d.blurb,wineImage:d.image,wineSubWine:d.subwine,wineVintages:d.vintages}),function(){var e={id:l.selectionId,recipeId:l.recipeId,recipeName:l.recipeName,recipeType:l.recipeType,recipeWine:l.recipeWine,recipeSubwine:l.recipeSubWine,recipeIngredients:l.recipeIngredients,recipeImage:l.recipeImage,recipeDirections:l.recipeDirections,wineId:d._id,wineName:d.name,wineType:d.type,wineBlurb:d.blurb,wineImage:d.image,wineSubWine:d.subwine,wineVintages:d.vintages};f({userId:l._id,favorite:e}).then((function(e){console.log("Updated User Favorites: ",e.data)})).catch((function(e){return console.log(e)}))}(),b(l._id).then((function(e){c({type:"updateFavs",favs:e.data})})).catch((function(e){return console.log(e)}))},type:"success",className:"input-lg btn-lg"},"+ Select Wine"))),r.a.createElement(I,null,r.a.createElement(j,{size:"md-10"},r.a.createElement(x,{src:d.image,alt:d.name}),r.a.createElement("br",null),r.a.createElement("h1",null,d.name),r.a.createElement("h4",null,d.blurb))),r.a.createElement(I,null,r.a.createElement(j,{size:"md-10"},r.a.createElement("h2",null,"VINTAGES"),v.length?r.a.createElement(O,null,v.map((function(e){return r.a.createElement(S,{key:e.id},e.vin)}))):r.a.createElement("p",null,"No Results to Display")))))))};var Q=function(){var e=U(),a=Object(i.a)(e,2),t=a[0];return a[1],r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(H,{email:t.email})}}),r.a.createElement(m.b,{exact:!0,path:["/","/register"]},t.email?r.a.createElement(m.a,{to:"/recipe"}):r.a.createElement(q,null)),r.a.createElement(m.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(J,{useremail:t.email})}}),r.a.createElement(m.b,{exact:!0,path:"/favorites"},t.email?r.a.createElement(Y,null):r.a.createElement(m.a,{to:"/login"})),r.a.createElement(m.b,{exact:!0,path:"/recipe"},t.email?r.a.createElement(W,null):r.a.createElement(m.a,{to:"/login"})),r.a.createElement(m.b,{exact:!0,path:"/recipe/:id"},t.email?r.a.createElement(V,null):r.a.createElement(m.a,{to:"/login"})),r.a.createElement(m.b,{exact:!0,path:"/wine"},t.email?r.a.createElement($,null):r.a.createElement(m.a,{to:"/login"})),r.a.createElement(m.b,{exact:!0,path:"/wine/:id"},t.email?r.a.createElement(K,null):r.a.createElement(m.a,{to:"/login"})),r.a.createElement(m.b,null,r.a.createElement(P,null)))))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null,r.a.createElement(Q,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Z?function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ee(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):ee(e)}))}}()}},[[42,1,2]]]);
//# sourceMappingURL=main.ce1c89be.chunk.js.map